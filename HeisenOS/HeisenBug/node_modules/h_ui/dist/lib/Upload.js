!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("h_ui/dist/lib/util/tools.js"),require("h_ui/dist/lib/util/global.js"),require("h_ui/dist/lib/Icon.js"),require("h_ui/dist/lib/mixins/locale.js"),require("h_ui/dist/lib/mixins/emitter.js"),require("h_ui/dist/lib/Tooltip.js"),require("h_ui/dist/lib/Progress.js")):"function"==typeof define&&define.amd?define("h_ui/lib",["h_ui/dist/lib/util/tools.js","h_ui/dist/lib/util/global.js","h_ui/dist/lib/Icon.js","h_ui/dist/lib/mixins/locale.js","h_ui/dist/lib/mixins/emitter.js","h_ui/dist/lib/Tooltip.js","h_ui/dist/lib/Progress.js"],e):"object"==typeof exports?exports["h_ui/lib"]=e(require("h_ui/dist/lib/util/tools.js"),require("h_ui/dist/lib/util/global.js"),require("h_ui/dist/lib/Icon.js"),require("h_ui/dist/lib/mixins/locale.js"),require("h_ui/dist/lib/mixins/emitter.js"),require("h_ui/dist/lib/Tooltip.js"),require("h_ui/dist/lib/Progress.js")):t["h_ui/lib"]=e(t["h_ui/dist/lib/util/tools.js"],t["h_ui/dist/lib/util/global.js"],t["h_ui/dist/lib/Icon.js"],t["h_ui/dist/lib/mixins/locale.js"],t["h_ui/dist/lib/mixins/emitter.js"],t["h_ui/dist/lib/Tooltip.js"],t["h_ui/dist/lib/Progress.js"])}(window,(function(t,e,n,i,r,o,s){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/lib/",n(n.s=1155)}({0:function(t,e){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},1:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},10:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},11:function(t,e,n){var i=n(5),r=n(14);t.exports=n(2)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},112:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},1155:function(t,e,n){"use strict";var i=n(8);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(1156)),o=n(32);r.default.install=function(t,e){(0,o.setGlobal)(t,e),t.component("HUpload",r.default),t.component("Upload",r.default)};var s=r.default;e.default=s},1156:function(t,e,n){"use strict";n.r(e);var i=n(782),r=n(657);for(var o in r)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(o);var s=n(4),a=Object(s.a)(r.default,i.a,i.b,!1,null,null,null);e.default=a.exports},1157:function(t,e,n){"use strict";n.r(e);var i=n(818),r=n(659);for(var o in r)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(o);n(1163);var s=n(4),a=Object(s.a)(r.default,i.a,i.b,!1,null,null,null);e.default=a.exports},1158:function(t,e){t.exports=s},1159:function(t,e,n){"use strict";var i=n(8);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if("undefined"==typeof XMLHttpRequest)return;var e=new XMLHttpRequest,n=t.action;e.upload&&(e.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/(e.total+1)*100),t.onProgress(e)});var i=new FormData;t.data&&(0,r.default)(t.data).forEach((function(e){i.append(e,t.data[e])}));t.uploadAll&&t.file instanceof Array?t.file.forEach((function(e,n){i.append(t.filename,e)})):i.append(t.filename,t.file);e.onerror=function(e){t.onError(e)},e.onload=function(){if(e.status<200||e.status>=300)return t.onError(function(t,e,n){var i="fail to post ".concat(t," ").concat(n.status,"'"),r=new Error(i);return r.status=n.status,r.method="post",r.url=t,r.response=n.response,r}(n,0,e),o(e));t.onSuccess(o(e))},e.open("post",n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var s=t.headers||{};for(var a in s)s.hasOwnProperty(a)&&null!==s[a]&&e.setRequestHeader(a,s[a]);return e.send(i),e};var r=i(n(56));function o(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(t){return e}}},1160:function(t,e,n){for(var i=n(1161),r=n(1162),o=[],s={},a=0;a<256;a++)o[a]=(a+256).toString(16).substr(1),s[o[a]]=a;function l(t,e){var n=e||0,i=o;return i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]}var u=i(),f=[1|u[0],u[1],u[2],u[3],u[4],u[5]],c=16383&(u[6]<<8|u[7]),d=0,p=0;function h(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"==t?new r(16):null,t=null);var s=(t=t||{}).random||(t.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;a++)e[o+a]=s[a];return e||l(s)}var v=h;v.v1=function(t,e,n){var i=e&&n||0,r=e||[],o=void 0!==(t=t||{}).clockseq?t.clockseq:c,s=void 0!==t.msecs?t.msecs:(new Date).getTime(),a=void 0!==t.nsecs?t.nsecs:p+1,u=s-d+(a-p)/1e4;if(u<0&&void 0===t.clockseq&&(o=o+1&16383),(u<0||s>d)&&void 0===t.nsecs&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=s,p=a,c=o;var h=(1e4*(268435455&(s+=122192928e5))+a)%4294967296;r[i++]=h>>>24&255,r[i++]=h>>>16&255,r[i++]=h>>>8&255,r[i++]=255&h;var v=s/4294967296*1e4&268435455;r[i++]=v>>>8&255,r[i++]=255&v,r[i++]=v>>>24&15|16,r[i++]=v>>>16&255,r[i++]=o>>>8|128,r[i++]=255&o;for(var m=t.node||f,g=0;g<6;g++)r[i+g]=m[g];return e||l(r)},v.v4=h,v.parse=function(t,e,n){var i=e&&n||0,r=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,(function(t){r<16&&(e[i+r++]=s[t])}));r<16;)e[i+r++]=0;return e},v.unparse=l,v.BufferClass=r,t.exports=v},1161:function(t,e,n){(function(e){var n;if(e.crypto&&crypto.getRandomValues){var i=new Uint8Array(16);n=function(){return crypto.getRandomValues(i),i}}if(!n){var r=new Array(16);n=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}t.exports=n}).call(this,n(112))},1162:function(t,e){t.exports=Array},1163:function(t,e,n){"use strict";var i=n(839),r=n.n(i),o=n(703),s={insert:"head",singleton:!1};r()(o.a,s),o.a.locals},12:function(t,e,n){var i=n(6);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},13:function(t,e,n){var i=n(50),r=n(18);t.exports=function(t){return i(r(t))}},14:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},15:function(t,e,n){var i=n(38);t.exports=function(t,e,n){return e in t?i(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},16:function(t,e,n){var i=n(27);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},17:function(t,e,n){var i=n(6);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},18:function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},19:function(t,e,n){var i=n(45),r=n(31);t.exports=Object.keys||function(t){return i(t,r)}},2:function(t,e,n){t.exports=!n(7)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},20:function(t,e,n){var i=n(18);t.exports=function(t){return Object(i(t))}},21:function(e,n){e.exports=t},22:function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},23:function(t,e){t.exports=!0},24:function(t,e,n){var i=n(6),r=n(1).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},25:function(t,e,n){t.exports=!n(2)&&!n(7)((function(){return 7!=Object.defineProperty(n(24)("div"),"a",{get:function(){return 7}}).a}))},27:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},29:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},3:function(t,e,n){var i=n(1),r=n(0),o=n(16),s=n(11),a=n(10),l=function(t,e,n){var u,f,c,d=t&l.F,p=t&l.G,h=t&l.S,v=t&l.P,m=t&l.B,g=t&l.W,y=p?r:r[e]||(r[e]={}),x=y.prototype,b=p?i:h?i[e]:(i[e]||{}).prototype;for(u in p&&(n=e),n)(f=!d&&b&&void 0!==b[u])&&a(y,u)||(c=f?b[u]:n[u],y[u]=p&&"function"!=typeof b[u]?n[u]:m&&f?o(c,i):g&&b[u]==c?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):v&&"function"==typeof c?o(Function.call,c):c,v&&((y.virtual||(y.virtual={}))[u]=c,t&l.R&&x&&!x[u]&&s(x,u,c)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},30:function(t,e,n){var i=n(0),r=n(1),o="__core-js_shared__",s=r[o]||(r[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(23)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},31:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},32:function(t,n){t.exports=e},33:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},335:function(t,e){t.exports=o},34:function(t,e,n){var i=n(30)("keys"),r=n(22);t.exports=function(t){return i[t]||(i[t]=r(t))}},35:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},38:function(t,e,n){t.exports=n(39)},39:function(t,e,n){n(40);var i=n(0).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},4:function(t,e,n){"use strict";function i(t,e,n,i,r,o,s,a){var l,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=l):r&&(l=a?function(){r.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(u.functional){u._injectStyles=l;var f=u.render;u.render=function(t,e){return l.call(e),f(t,e)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:u}}n.d(e,"a",(function(){return i}))},40:function(t,e,n){var i=n(3);i(i.S+i.F*!n(2),"Object",{defineProperty:n(5).f})},42:function(t,e,n){var i=n(29),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},45:function(t,e,n){var i=n(10),r=n(13),o=n(67)(!1),s=n(34)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),l=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);for(;e.length>l;)i(a,n=e[l++])&&(~o(u,n)||u.push(n));return u}},47:function(t,e){t.exports=n},49:function(t,e){t.exports=i},5:function(t,e,n){var i=n(12),r=n(25),o=n(17),s=Object.defineProperty;e.f=n(2)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},50:function(t,e,n){var i=n(33);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},51:function(t,e,n){var i=n(3),r=n(18),o=n(7),s=n(35),a="["+s+"]",l=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),f=function(t,e,n){var r={},a=o((function(){return!!s[t]()||"​"!="​"[t]()})),l=r[t]=a?e(c):s[t];n&&(r[n]=l),i(i.P+i.F*a,"String",r)},c=f.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},53:function(t,e,n){t.exports=n(69)},56:function(t,e,n){t.exports=n(77)},58:function(t,e,n){var i=n(3),r=n(0),o=n(7);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",s)}},6:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},60:function(t,e){t.exports=r},65:function(t,e,n){var i=n(29),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},657:function(t,e,n){"use strict";n.r(e);var i=n(658),r=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e.default=r.a},658:function(t,e,n){"use strict";var i=n(8);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(56)),o=i(n(15)),s=i(n(47)),a=i(n(1157)),l=i(n(1159)),u=n(21),f=i(n(60)),c=i(n(49)),d=i(n(1160)),p="h-upload",h={name:"Upload",mixins:[f.default,c.default],components:{UploadList:a.default,Icon:s.default},props:{value:{type:Array},action:{type:String,required:!0},headers:{type:Object,default:function(){return{}}},multiple:{type:Boolean,default:!1},data:{type:Object},name:{type:String,default:"file"},withCredentials:{type:Boolean,default:!1},showUploadList:{type:Boolean,default:!0},type:{type:String,validator:function(t){return(0,u.oneOf)(t,["select","drag"])},default:"select"},format:{type:Array,default:function(){return[]}},accept:{type:String},maxSize:{type:Number},beforeUpload:Function,onProgress:{type:Function,default:function(){return{}}},onSuccess:{type:Function,default:function(){return{}}},onError:{type:Function,default:function(){return{}}},beforeRemove:{type:Function,default:function(){return!0}},onRemove:{type:Function,default:function(){return{}}},onPreview:{type:Function,default:function(){return{}}},onExceededSize:{type:Function,default:function(){return{}}},onFormatError:{type:Function,default:function(){return{}}},defaultFileList:{type:Array,default:function(){return[]}},onSelfSuccess:{type:Function,default:function(){return{}}},selfConfig:{type:Boolean,default:!1},uploadAll:{type:Boolean,default:!1},mergeHook:{type:Boolean,default:!1},textNowrap:{type:Boolean,default:!1},selectNoPercent:{type:Boolean,default:!1},errorTextList:{type:Array,default:function(){return[]}},showErrorlist:{type:Boolean,default:!0},beforePostFile:{type:Function}},data:function(){return{prefixCls:p,dragOver:!1,fileList:[],tempIndex:1,selfUploadStatus:"",xhr:{},uploadedFileList:[],showUploadedList:!1,selfConfPostList:[],fileNoneStatus:"",isFirstChoose:!0,uploadAllAutoList:[],viewValue:[],errorList:[]}},computed:{wrapCls:function(){return["".concat(p)]},wrapperCls:function(){return["".concat(p,"-click-wrapper"),(0,o.default)({},"".concat(p,"-self"),this.selfConfig)]},classes:function(){var t;return["".concat(p),(t={},(0,o.default)(t,"".concat(p,"-select"),"select"===this.type),(0,o.default)(t,"".concat(p,"-drag"),"drag"===this.type),(0,o.default)(t,"".concat(p,"-dragOver"),"drag"===this.type&&this.dragOver),t)]},postBtnCls:function(){return["".concat(p),"".concat(p,"-postBtn")]},cancleBtncls:function(){return["".concat(p),"".concat(p,"-cancleBtn")]},listBtnCls:function(){return["".concat(p),"".concat(p,"-listBtn")]},uploadedFileListLength:function(){return this.uploadedFileList.length}},methods:{handleSelfConfigAction:function(t){this.selfConfig&&"handlePostFile"==t&&this.handlePostFile()},handlePostFile:function(){var t=this;this.beforePostFile?this.beforePostFile(this.fileList,(function(e){e&&t.postFilesFn()})):this.postFilesFn()},postFilesFn:function(){var t=this;if(this.showUploadedList&&(this.showUploadedList=!1),this.uploadAll)this.startPost(this.selfConfPostList);else{var e=[];this.selfConfPostList.forEach((function(n,i){var r=t.getFile(n);r&&"finished"!==r.status&&(t.startPost(n),e.push(n))})),this.selfConfPostList=e}},handleCancleFile:function(){var t=this;(0,r.default)(this.xhr)&&(0,r.default)(this.xhr).forEach((function(e){t.xhr[e].abort()})),this.xhr={},this.fileList=this.fileList.filter((function(t,e){return"finished"===t.status&&t}))},handleFileList:function(){this.showUploadedList=!0},handleCloseList:function(){this.showUploadedList=!1},handleDelAll:function(){this.uploadedFileList=[],this.fileList=this.fileList.filter((function(t,e){return"finished"!==t.status&&t}))},handleClick:function(){this.$refs.input.click()},handleChange:function(t){var e=t.target.files;e&&(this.uploadFiles(e),t.target.value="",this.$refs.form.reset())},onDrop:function(t){this.dragOver=!1,this.uploadFiles(t.dataTransfer.files)},uploadFiles:function(t){var e=this;this.uploadAllAutoList=[];var n=Array.prototype.slice.call(t);this.multiple||(n=n.slice(0,1)),0!==n.length&&(this.mergeHook?this.upload(n):n.forEach((function(t){e.upload(t)})),this.uploadAll&&!this.selfConfig&&this.uploadAllAutoList.length>0&&this.startPost(this.uploadAllAutoList))},upload:function(t){var e=this;if(!this.beforeUpload)return this.post(t);var n=this.beforeUpload(t,this.fileList);n&&n.then?n.then((function(n){"[object File]"===Object.prototype.toString.call(n)?e.post(n):e.post(t)}),(function(){})):!1!==n&&this.post(t)},post:function(t){var e,n,i,r=this,o=function(t){if(r.handleStart(t),r.selfConfig)return r.selfConfPostList.length>0&&(r.isFirstChoose=!1),r.showUploadedList&&(r.showUploadedList=!1),"finished"===t.status?void(t.isShow=!1):void 0;r.uploadAll?r.uploadAllAutoList.push(t):r.startPost(t)};if(Array.isArray(t))e=t.every((function(t){var e=r.checkFile(t);if(!e[0]){n=e[1];var o=t.type,s=t.name;if(t.type){var a=t.name.lastIndexOf(".");o=t.name.substring(a+1,t.name.length),s=t.name.substring(0,a)}i={status:"fail",name:s,size:t.size,uid:Date.now()+r.tempIndex++,isShow:!0,type:o,fileName:s}}return e[0]}));else{var s=this.checkFile(t);if(!(e=s[0])){n=s[1],t.uid=Date.now()+this.tempIndex++;var a=t.type,l=t.name;if(t.type){var u=t.name.lastIndexOf(".");a=t.name.substring(u+1,t.name.length),l=t.name.substring(0,u)}var f={status:"fail",name:t.name,size:t.size,uid:t.uid,isShow:!0,type:a,fileName:l};i=f}}switch(n){case"format":this.errorList.push(i),this.onFormatError(i,this.fileList);break;case"size":this.errorList.push(i),this.onExceededSize(i,this.fileList)}e&&(Array.isArray(t)?t.forEach((function(t){return o(t)})):o(t))},startPost:function(t){var e=this;if((new FormData).append(this.name,t),!(this.uploadAll&&t instanceof Array&&0===t.length)){var n=this.uploadAll&&t instanceof Array?(0,d.default)():t.uid;if(!this.xhr[n]){var i=(0,l.default)({headers:this.headers,withCredentials:this.withCredentials,file:t,uploadAll:this.uploadAll&&t instanceof Array,data:this.data,filename:this.name,action:this.action,onProgress:function(n){e.handleProgress(n,t)},onSuccess:function(n){e.handleSuccess(n,t)},onError:function(n,i){e.handleError(n,i,t)}});this.xhr[n]=i}}},handleStart:function(t){t.uid=Date.now()+this.tempIndex++;var e=t.type,n=t.name;if(t.type){var i=t.name.lastIndexOf(".");e=t.name.substring(i+1,t.name.length),n=t.name.substring(0,i)}var r={status:"uploading",name:t.name,size:t.size,percentage:0,uid:t.uid,showProgress:!0,isShow:!0,type:e,fileName:n};this.fileList.push(r),this.selfConfig&&this.selfConfPostList.push(t)},getFile:function(t){var e;return this.fileList.every((function(n){return!(e=t.uid===n.uid?n:null)})),e||{}},handleRemovePostFile:function(t){var e=this.selfConfPostList;e.splice(e.indexOf(t),1)},handleProgress:function(t,e){var n=this;if(e instanceof Array)e.forEach((function(e){var i=n.getFile(e);n.onProgress(t,i,n.fileList),i.percentage=t.percent||0}));else{var i=this.getFile(e);this.onProgress(t,i,this.fileList),i.percentage=t.percent||0}},handleSuccessFile:function(t,e){var n=this.getFile(e);n&&(n.status="finished",n.response=t,this.onSuccess(t,n,this.fileList),(!this.selectNoPercent||this.selectNoPercent&&!this.selfConfig)&&setTimeout((function(){n.showProgress=!1}),1e3),this.selfConfig&&this.$slots.showList&&(this.uploadAll||this.handleRemovePostFile(n),n.isShow=!1,this.uploadedFileList.push(n)))},handleSuccess:function(t,e){var n=this;e instanceof Array?(e.forEach((function(e){n.handleSuccessFile(t,e)})),this.onSelfSuccess(t,e),this.fileNoneStatus="success",this.isFirstChoose=!0,this.selfConfPostList=[],e.length>0&&(this.$emit("input",this.fileList),this.dispatch("FormItem","on-form-change",this.fileList))):(this.handleSuccessFile(t,e),e&&(this.$emit("input",this.fileList),this.dispatch("FormItem","on-form-change",this.fileList)))},handleError:function(t,e,n){var i=this;if(n instanceof Array){var r=n.map((function(r,o){var s=i.getFile(r);if(s.status="fail",s.type=r.type,s.isShow=!0,s.type){var a=r.name.lastIndexOf(".");s.type=r.name.substring(a+1,r.name.length),s.fileName=r.name.substring(0,a)}(!i.selectNoPercent||i.selectNoPercent&&!i.selfConfig)&&setTimeout((function(){s.showProgress=!1}),1e3);var l=i.fileList.findIndex((function(t){return t.uid===r.uid}));return-1!==l&&i.fileList.splice(l,1),i.onError(t,e,n),s}));this.errorList=this.errorList.concat(r),this.fileNoneStatus="error",this.isFirstChoose=!0,this.selfConfPostList=[],this.$emit("input",this.selfConfPostList),this.dispatch("FormItem","on-form-change",this.selfConfPostList)}else{var o=this.getFile(n),s=this.fileList,a=o.type,l=o.name;if(o.type){var u=n.name.lastIndexOf(".");a=n.name.substring(u+1,n.name.length),l=n.name.substring(0,u)}var f={status:"fail",name:n.name,size:n.size,uid:n.uid,isShow:!0,type:a,fileName:l};this.errorList.push(f),(!this.selectNoPercent||this.selectNoPercent&&!this.selfConfig)&&setTimeout((function(){o.showProgress=!1}),1e3),s.splice(s.indexOf(o),1),this.handleRemovePostFile(n),this.onError(t,e,n),this.$emit("input",this.handleRemovePostFile(n)),this.dispatch("FormItem","on-form-change",this.handleRemovePostFile(n))}},removeFile:function(t){var e=this.fileList;e.splice(e.indexOf(t),1),this.uploadAll||"finished"===t.status||(this.xhr[t.uid]&&this.xhr[t.uid].abort(),this.xhr[t.uid]&&delete this.xhr[t.uid]),this.selfConfPostList.length>0&&(this.selfConfPostList=this.selfConfPostList.filter((function(e){return e.uid!=t.uid})),0==this.selfConfPostList.length&&(this.isFirstChoose=!0,this.fileNoneStatus="clear"))},handleRemove:function(t){this.beforeRemove(t,this.fileList)&&(this.removeFile(t),this.onRemove(t,this.fileList))},handleRemoveError:function(t){if(this.beforeRemove(t,this.fileList)){var e=this.errorList.findIndex((function(e){return e==t}));this.errorList.splice(e,1),this.onRemove(t,this.fileList)}},handleUploadedRemove:function(t){var e=this.uploadedFileList;this.beforeRemove(t,this.fileList)&&(e.splice(e.indexOf(t),1),this.removeFile(t),this.onRemove(t,e))},handlePreview:function(t){"finished"===t.status&&this.onPreview(t)},handleListClick:function(t){this.$emit("on-file-click",t)},clearFiles:function(){this.fileList=[],this.fileNoneStatus="clear",this.isFirstChoose=!0,this.selfConfPostList=[],this.errorList=[]},checkFile:function(t){if(this.format.length){var e=t.name.split(".").pop().toLocaleLowerCase();if(!this.format.some((function(t){return t.toLocaleLowerCase()===e})))return[!1,"format"]}return this.maxSize&&t.size>1024*this.maxSize?[!1,"size"]:[!0]}},watch:{uploadedFileListLength:function(){var t=this.$slots.showList[0].elm;this.uploadedFileListLength>0&&t&&"disabled"===t.getAttribute("disabled")?t.removeAttribute("disabled"):0==this.uploadedFileListLength&&t&&(this.showUploadedList=!1,t.setAttribute("disabled","disabled"))},defaultFileList:{immediate:!0,handler:function(t){var e=this;this.fileList=t.map((function(t){var n=t.name;if(t.type){var i=t.name.lastIndexOf(".");n=t.name.substring(0,i)}return t.fileName=n,t.status="finished",t.percentage=100,t.uid=Date.now()+e.tempIndex++,t})),this.selfConfig&&(this.uploadedFileList=t.map((function(t){return t.status="finished",t.percentage=100,t.uid=Date.now()+e.tempIndex++,t})))}},isFirstChoose:function(t,e){this.selfConfig&&this.uploadAll&&(!t&&e&&this.selfConfPostList.length>0?this.$emit("on-goto-add",!0):t&&!e&&0==this.selfConfPostList.length&&this.$emit("on-file-none",this.fileNoneStatus))},fileList:function(t){this.viewValue=t},errorTextList:function(t){var e=this;t.forEach((function(t){e.errorList.forEach((function(n){t&&n&&t.uid==n.uid&&(n.errorText=t.errorText?t.errorText:e.t("i.upload.errorText"))}))}))}},mounted:function(){window.$HUI&&window.$HUI.Log&&window.$HUI.Log.debug("h_ui upload lifecycle mounted"),0===this.uploadedFileList.length&&this.$slots.showList&&this.$slots.showList[0].elm.setAttribute("disabled","disabled")}};e.default=h},659:function(t,e,n){"use strict";n.r(e);var i=n(660),r=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e.default=r.a},660:function(t,e,n){"use strict";var i=n(8);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(53)),o=i(n(15)),s=i(n(47)),a=i(n(1158)),l=i(n(335)),u=i(n(49)),f="h-upload",c={name:"UploadList",mixins:[u.default],components:{Icon:s.default,hProgress:a.default,hTooltip:l.default},props:{files:{type:Array,default:function(){return[]}},showUploaded:{type:String,default:""},textNowrap:{type:Boolean,default:!1},selectNoPercent:{type:Boolean,default:!1},errorTextList:{type:Array,default:function(){return[]}}},data:function(){return{prefixCls:f}},methods:{fileCls:function(t){var e;return["".concat(f,"-list-file"),(e={},(0,o.default)(e,"".concat(f,"-list-file-finish"),"finished"===t.status),(0,o.default)(e,"".concat(f,"-list-file-text-nowrap"),this.textNowrap),e)]},handleClick:function(t){this.$emit("on-file-click",t)},handlePreview:function(t){this.$emit("on-file-preview",t)},handleRemove:function(t){"fail"===t.status?this.$emit("on-fileError-remove",t):this.$emit("on-file-remove",t)},format:function(t){var e=t&&t.name&&t.name.split(".").pop().toLocaleLowerCase()||"",n="document";return["gif","jpg","jpeg","png","bmp","webp"].indexOf(e)>-1&&(n="image"),["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(e)>-1&&(n="android-film"),["mp3","wav","wma","ogg","aac","flac"].indexOf(e)>-1&&(n="ios-musical-notes"),["doc","txt","docx","pages","epub","pdf"].indexOf(e)>-1&&(n="document-text"),["numbers","csv","xls","xlsx"].indexOf(e)>-1&&(n="stats-bars"),["keynote","ppt","pptx"].indexOf(e)>-1&&(n="videocamera"),n},parsePercentage:function(t){return(0,r.default)(t,10)}}};e.default=c},67:function(t,e,n){var i=n(13),r=n(42),o=n(65);t.exports=function(t){return function(e,n,s){var a,l=i(e),u=r(l.length),f=o(s,u);if(t&&n!=n){for(;u>f;)if((a=l[f++])!=a)return!0}else for(;u>f;f++)if((t||f in l)&&l[f]===n)return t||f||0;return!t&&-1}}},69:function(t,e,n){n(70),t.exports=n(0).parseInt},7:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},70:function(t,e,n){var i=n(3),r=n(71);i(i.G+i.F*(parseInt!=r),{parseInt:r})},703:function(t,e,n){"use strict";var i=n(840),r=n.n(i)()((function(t){return t[1]}));r.push([t.i,"\n.custom-tooltip {\n  width: 100%;\n}\n.custom-tooltip .h-tooltip-rel {\n  width: 100%;\n}\n",""]),e.a=r},71:function(t,e,n){var i=n(1).parseInt,r=n(51).trim,o=n(35),s=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(s.test(n)?16:10))}:i},77:function(t,e,n){n(78),t.exports=n(0).Object.keys},78:function(t,e,n){var i=n(20),r=n(19);n(58)("keys",(function(){return function(t){return r(i(t))}}))},782:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.wrapCls},[n("div",{class:t.wrapperCls},[n("div",{class:t.classes,on:{click:t.handleClick,drop:function(e){return e.preventDefault(),t.onDrop(e)},dragover:function(e){e.preventDefault(),t.dragOver=!0},dragleave:function(e){e.preventDefault(),t.dragOver=!1}}},[n("form",{ref:"form"},[n("input",{ref:"input",class:[t.prefixCls+"-input"],attrs:{type:"file",multiple:t.multiple,accept:t.accept},on:{change:t.handleChange,input:t.handleChange}})]),t._v(" "),t.selfConfig?t._t("chooseFile"):t._t("default")],2),t._v(" "),t._t("tip"),t._v(" "),t.selfConfig?n("div",{class:t.postBtnCls,on:{click:t.handlePostFile}},[t._t("postFile")],2):t._e(),t._v(" "),t.selfConfig&&t.$slots.cancleFile?n("div",{class:t.cancleBtncls,on:{click:t.handleCancleFile}},[t._t("cancleFile")],2):t._e(),t._v(" "),t.selfConfig?n("div",{class:t.listBtnCls,on:{click:t.handleFileList}},[t._t("showList")],2):t._e()],2),t._v(" "),t.showUploadList&&!t.showUploadedList?n("upload-list",{ref:"postFileList",attrs:{files:t.fileList,textNowrap:t.textNowrap,selectNoPercent:t.selectNoPercent},on:{"on-file-remove":t.handleRemove,"on-file-click":t.handleListClick,"on-file-preview":t.handlePreview}},[t._t("uploadlist")],2):t._e(),t._v(" "),n("upload-list",{directives:[{name:"show",rawName:"v-show",value:t.showErrorlist,expression:"showErrorlist"}],attrs:{files:t.errorList},on:{"on-fileError-remove":t.handleRemoveError,"on-file-click":t.handleListClick}}),t._v(" "),t.selfConfig&&t.showUploadList&&t.showUploadedList?n("div",{class:[t.prefixCls+"-uploaded-wrap"]},[n("div",{class:[t.prefixCls+"-uploaded-title"]},[n("span",[t._v(t._s(t.t("i.upload.uploadedFiles")))]),t._v(" "),n("Icon",{class:[t.prefixCls+"-uploaded-close"],attrs:{name:"close"},nativeOn:{click:function(e){return t.handleDelAll(e)}}}),t._v(" "),n("Icon",{class:[t.prefixCls+"-uploaded-close"],attrs:{name:"smallscreen"},nativeOn:{click:function(e){return t.handleCloseList(e)}}})],1),t._v(" "),n("div",[n("upload-list",{attrs:{files:t.uploadedFileList,textNowrap:t.textNowrap,showUploaded:"showLi"},on:{"on-file-click":t.handleListClick,"on-file-remove":t.handleUploadedRemove,"on-file-preview":t.handlePreview}},[n("span",[t._t("uploadlist")],2)])],1)]):t._e()],1)},r=[];i._withStripped=!0},8:function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},818:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{ref:"uploadList",class:[t.prefixCls+"-list"]},[t._l(t.files,(function(e,i){return[!t.$parent.selfConfig||"showLi"===t.showUploaded||e.isShow?n("li",{key:i,class:t.fileCls(e),on:{click:function(n){return t.handleClick(e)}}},[n("h-tooltip",{staticClass:"custom-tooltip",attrs:{placement:"top",content:e.errorText?e.errorText:t.t("i.upload.errorText"),transfer:!0,disabled:"fail"!==e.status}},[n("div",{staticClass:"li-body"},[n("span",{staticClass:"li-body-span",attrs:{title:e.name},on:{click:function(n){return t.handlePreview(e)}}},[n("Icon",{class:"fail"===e.status?"fail":"",attrs:{name:t.format(e)}}),t._v(" "),n("span",{staticClass:"file-name",class:"fail"===e.status?"fail":""},[t._v("\n              "+t._s(e.fileName)),e.type?n("span",{class:"fail"===e.status?"fail":""},[t._v("."+t._s(e.type))]):t._e()])],1),t._v(" "),t._t("default"),t._v(" "),n("Icon",{directives:[{name:"show",rawName:"v-show",value:t.$parent.selfConfig||"finished"===e.status||"fail"===e.status,expression:"\n              $parent.selfConfig ||\n              file.status === 'finished' ||\n              file.status === 'fail'\n            "}],class:[t.prefixCls+"-list-remove",{"remove-fail":"fail"===e.status}],attrs:{name:"close"},nativeOn:{click:function(n){return n.stopPropagation(),t.handleRemove(e)}}})],2)]),t._v(" "),n("transition",{attrs:{name:"fade"}},[!t.selectNoPercent&&e.showProgress||t.selectNoPercent&&!t.$parent.selfConfig&&e.showProgress||t.selectNoPercent&&t.$parent.selfConfig&&e.showProgress&&e.percentage?n("h-progress",{attrs:{"stroke-width":2,percent:t.parsePercentage(e.percentage),status:"finished"===e.status?"success":"fail"===e.status?"wrong":"normal"}}):t._e()],1)],1):t._e()]}))],2)},r=[];i._withStripped=!0},839:function(t,e,n){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function a(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function l(t,e){for(var n={},i=[],r=0;r<t.length;r++){var o=t[r],l=e.base?o[0]+e.base:o[0],u=n[l]||0,f="".concat(l," ").concat(u);n[l]=u+1;var c=a(f),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==c?(s[c].references++,s[c].updater(d)):s.push({identifier:f,updater:m(d,e),references:1}),i.push(f)}return i}function u(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var f,c=(f=[],function(t,e){return f[t]=e,f.filter(Boolean).join("\n")});function d(t,e,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=c(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function p(t,e,n){var i=n.css,r=n.media,o=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var h=null,v=0;function m(t,e){var n,i,r;if(e.singleton){var o=v++;n=h||(h=u(e)),i=d.bind(null,n,o,!1),r=d.bind(null,n,o,!0)}else n=u(e),i=p.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var n=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var r=a(n[i]);s[r].references--}for(var o=l(t,e),u=0;u<n.length;u++){var f=a(n[u]);0===s[f].references&&(s[f].updater(),s.splice(f,1))}n=o}}}},840:function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);i&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}}})}));